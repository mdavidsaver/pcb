EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:arduino_shield
LIBS:txb0108
LIBS:misc
LIBS:ice40
LIBS:SN74LVC2T45
LIBS:icetest-cache
EELAYER 25 0
EELAYER END
$Descr USLetter 11000 8500
encoding utf-8
Sheet 2 3
Title "Arduino shield with iCE40 FPGA"
Date ""
Rev "2"
Comp "mdavidsaver@gmail.com"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L arduino_shield ARD1
U 1 1 578B7F28
P 5100 3450
AR Path="/578B7F28" Ref="ARD1"  Part="1" 
AR Path="/578B7A7B/578B7F28" Ref="ARD1"  Part="1" 
F 0 "ARD1" H 5650 4500 60  0000 C CNN
F 1 "arduino_shield" H 5000 3400 60  0000 C CNN
F 2 "local:arduino_shield" H 5150 3600 60  0001 C CNN
F 3 "" H 5150 3600 60  0000 C CNN
	1    5100 3450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR050
U 1 1 578B7F2F
P 4100 3400
F 0 "#PWR050" H 4100 3150 50  0001 C CNN
F 1 "GND" H 4100 3250 50  0000 C CNN
F 2 "" H 4100 3400 50  0000 C CNN
F 3 "" H 4100 3400 50  0000 C CNN
	1    4100 3400
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR051
U 1 1 578B7F35
P 3900 3050
F 0 "#PWR051" H 3900 2900 50  0001 C CNN
F 1 "+5V" H 3900 3190 50  0000 C CNN
F 2 "" H 3900 3050 50  0000 C CNN
F 3 "" H 3900 3050 50  0000 C CNN
	1    3900 3050
	1    0    0    -1  
$EndComp
NoConn ~ 4250 3650
NoConn ~ 4250 2650
NoConn ~ 4250 2750
NoConn ~ 5950 2750
$Comp
L +3.3V #PWR052
U 1 1 578B7F8A
P 8000 2350
F 0 "#PWR052" H 8000 2200 50  0001 C CNN
F 1 "+3.3V" H 8000 2490 50  0000 C CNN
F 2 "" H 8000 2350 50  0000 C CNN
F 3 "" H 8000 2350 50  0000 C CNN
	1    8000 2350
	-1   0    0    -1  
$EndComp
$Comp
L +5V #PWR053
U 1 1 578B7F90
P 6900 2350
F 0 "#PWR053" H 6900 2200 50  0001 C CNN
F 1 "+5V" H 6900 2490 50  0000 C CNN
F 2 "" H 6900 2350 50  0000 C CNN
F 3 "" H 6900 2350 50  0000 C CNN
	1    6900 2350
	-1   0    0    -1  
$EndComp
Text Label 5950 2950 0    60   ~ 0
aSCK
Text Label 5950 3050 0    60   ~ 0
aMISO
Text Label 5950 3150 0    60   ~ 0
aMOSI
Text Label 5950 3250 0    60   ~ 0
aD10
Text Label 5950 3350 0    60   ~ 0
aD9
Text Label 5950 3450 0    60   ~ 0
aD8
Text Label 5950 3650 0    60   ~ 0
aD6
Text Label 6650 2450 0    60   ~ 0
aSCK
Text Label 6650 2550 0    60   ~ 0
aMOSI
Text Label 6650 4100 0    60   ~ 0
aMISO
Text Label 6650 4200 0    60   ~ 0
aD8
Text Label 6650 3400 0    60   ~ 0
aD9
Text Label 6650 3300 0    60   ~ 0
aD10
Text Label 8050 3300 0    60   ~ 0
ICE_SS
Text Label 8050 2450 0    60   ~ 0
SCK
Text Label 8050 2550 0    60   ~ 0
MOSI
Text Label 8050 4100 0    60   ~ 0
MISO
Text Label 8050 3400 0    60   ~ 0
ICE_RST
Text Label 8050 4200 0    60   ~ 0
ICE_CDONE
Text HLabel 4050 2700 1    60   Output ~ 0
a3V3
NoConn ~ 5950 4150
NoConn ~ 5950 4250
Text HLabel 8550 2450 2    60   Output ~ 0
SCK
Text HLabel 8550 2550 2    60   Output ~ 0
MOSI
Text HLabel 8550 4100 2    60   Input ~ 0
MISO
Text HLabel 8550 3300 2    60   Output ~ 0
ICE_SS
Text HLabel 8550 3400 2    60   Output ~ 0
ICE_RST
Text HLabel 8550 4200 2    60   Input ~ 0
ICE_CDONE
$Comp
L GND #PWR054
U 1 1 5793C5E6
P 5100 4700
F 0 "#PWR054" H 5100 4450 50  0001 C CNN
F 1 "GND" H 5100 4550 50  0000 C CNN
F 2 "" H 5100 4700 50  0000 C CNN
F 3 "" H 5100 4700 50  0000 C CNN
	1    5100 4700
	-1   0    0    -1  
$EndComp
$Comp
L sn74lvc2t45 UL1
U 1 1 57F9AD9B
P 7450 2500
F 0 "UL1" H 7200 2800 60  0000 C CNN
F 1 "sn74lvc2t45" H 7450 3200 60  0001 C CNN
F 2 "local:VSSOP-8" H 7700 2350 60  0001 C CNN
F 3 "" H 7700 2350 60  0000 C CNN
	1    7450 2500
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR055
U 1 1 57F9B00B
P 6900 2650
F 0 "#PWR055" H 6900 2400 50  0001 C CNN
F 1 "GND" H 6900 2500 50  0000 C CNN
F 2 "" H 6900 2650 50  0000 C CNN
F 3 "" H 6900 2650 50  0000 C CNN
	1    6900 2650
	-1   0    0    -1  
$EndComp
Text Notes 6850 1850 0    60   ~ 0
VCCA must power before/with VCCB\nDIR=1 Selects B <- A\nDIR=0 Selects B -> A
$Comp
L GND #PWR056
U 1 1 57F9C120
P 8000 2650
F 0 "#PWR056" H 8000 2400 50  0001 C CNN
F 1 "GND" H 8000 2500 50  0000 C CNN
F 2 "" H 8000 2650 50  0000 C CNN
F 3 "" H 8000 2650 50  0000 C CNN
	1    8000 2650
	-1   0    0    -1  
$EndComp
$Comp
L +3.3V #PWR057
U 1 1 57F9C181
P 8000 3200
F 0 "#PWR057" H 8000 3050 50  0001 C CNN
F 1 "+3.3V" H 8000 3340 50  0000 C CNN
F 2 "" H 8000 3200 50  0000 C CNN
F 3 "" H 8000 3200 50  0000 C CNN
	1    8000 3200
	-1   0    0    -1  
$EndComp
$Comp
L +5V #PWR058
U 1 1 57F9C187
P 6900 3200
F 0 "#PWR058" H 6900 3050 50  0001 C CNN
F 1 "+5V" H 6900 3340 50  0000 C CNN
F 2 "" H 6900 3200 50  0000 C CNN
F 3 "" H 6900 3200 50  0000 C CNN
	1    6900 3200
	-1   0    0    -1  
$EndComp
$Comp
L sn74lvc2t45 UL2
U 1 1 57F9C18D
P 7450 3350
F 0 "UL2" H 7200 3650 60  0000 C CNN
F 1 "sn74lvc2t45" H 7450 4050 60  0001 C CNN
F 2 "local:VSSOP-8" H 7700 3200 60  0001 C CNN
F 3 "" H 7700 3200 60  0000 C CNN
	1    7450 3350
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR059
U 1 1 57F9C193
P 6900 3500
F 0 "#PWR059" H 6900 3250 50  0001 C CNN
F 1 "GND" H 6900 3350 50  0000 C CNN
F 2 "" H 6900 3500 50  0000 C CNN
F 3 "" H 6900 3500 50  0000 C CNN
	1    6900 3500
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR060
U 1 1 57F9C199
P 8000 3500
F 0 "#PWR060" H 8000 3250 50  0001 C CNN
F 1 "GND" H 8000 3350 50  0000 C CNN
F 2 "" H 8000 3500 50  0000 C CNN
F 3 "" H 8000 3500 50  0000 C CNN
	1    8000 3500
	-1   0    0    -1  
$EndComp
$Comp
L +3.3V #PWR061
U 1 1 57F9C239
P 8000 4000
F 0 "#PWR061" H 8000 3850 50  0001 C CNN
F 1 "+3.3V" H 8000 4140 50  0000 C CNN
F 2 "" H 8000 4000 50  0000 C CNN
F 3 "" H 8000 4000 50  0000 C CNN
	1    8000 4000
	-1   0    0    -1  
$EndComp
$Comp
L +5V #PWR062
U 1 1 57F9C23F
P 6900 4000
F 0 "#PWR062" H 6900 3850 50  0001 C CNN
F 1 "+5V" H 6900 4140 50  0000 C CNN
F 2 "" H 6900 4000 50  0000 C CNN
F 3 "" H 6900 4000 50  0000 C CNN
	1    6900 4000
	-1   0    0    -1  
$EndComp
$Comp
L sn74lvc2t45 UL3
U 1 1 57F9C245
P 7450 4150
F 0 "UL3" H 7200 4450 60  0000 C CNN
F 1 "sn74lvc2t45" H 7450 4850 60  0001 C CNN
F 2 "local:VSSOP-8" H 7700 4000 60  0001 C CNN
F 3 "" H 7700 4000 60  0000 C CNN
	1    7450 4150
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR063
U 1 1 57F9C24B
P 6900 4300
F 0 "#PWR063" H 6900 4050 50  0001 C CNN
F 1 "GND" H 6900 4150 50  0000 C CNN
F 2 "" H 6900 4300 50  0000 C CNN
F 3 "" H 6900 4300 50  0000 C CNN
	1    6900 4300
	-1   0    0    -1  
$EndComp
$Comp
L +3.3V #PWR064
U 1 1 57F9C281
P 8000 4750
F 0 "#PWR064" H 8000 4600 50  0001 C CNN
F 1 "+3.3V" H 8000 4890 50  0000 C CNN
F 2 "" H 8000 4750 50  0000 C CNN
F 3 "" H 8000 4750 50  0000 C CNN
	1    8000 4750
	-1   0    0    -1  
$EndComp
$Comp
L +5V #PWR065
U 1 1 57F9C287
P 6900 4750
F 0 "#PWR065" H 6900 4600 50  0001 C CNN
F 1 "+5V" H 6900 4890 50  0000 C CNN
F 2 "" H 6900 4750 50  0000 C CNN
F 3 "" H 6900 4750 50  0000 C CNN
	1    6900 4750
	-1   0    0    -1  
$EndComp
$Comp
L sn74lvc2t45 UL4
U 1 1 57F9C28D
P 7450 4900
F 0 "UL4" H 7200 5200 60  0000 C CNN
F 1 "sn74lvc2t45" H 7450 5600 60  0001 C CNN
F 2 "local:VSSOP-8" H 7700 4750 60  0001 C CNN
F 3 "" H 7700 4750 60  0000 C CNN
	1    7450 4900
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR066
U 1 1 57F9C293
P 6900 5050
F 0 "#PWR066" H 6900 4800 50  0001 C CNN
F 1 "GND" H 6900 4900 50  0000 C CNN
F 2 "" H 6900 5050 50  0000 C CNN
F 3 "" H 6900 5050 50  0000 C CNN
	1    6900 5050
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR067
U 1 1 57F9C299
P 8000 5650
F 0 "#PWR067" H 8000 5400 50  0001 C CNN
F 1 "GND" H 8000 5500 50  0000 C CNN
F 2 "" H 8000 5650 50  0000 C CNN
F 3 "" H 8000 5650 50  0000 C CNN
	1    8000 5650
	-1   0    0    -1  
$EndComp
Wire Wire Line
	4250 2900 4050 2900
Wire Wire Line
	4250 3050 3900 3050
Wire Wire Line
	4250 3200 4250 3400
Connection ~ 4250 3300
Wire Wire Line
	4250 3400 4100 3400
Wire Wire Line
	6600 2550 6900 2550
Wire Wire Line
	6600 3300 6900 3300
Wire Wire Line
	6600 4100 6900 4100
Wire Wire Line
	6600 4200 6900 4200
Wire Wire Line
	6600 3400 6900 3400
Wire Wire Line
	6600 2450 6900 2450
Wire Wire Line
	6100 2950 5950 2950
Wire Wire Line
	6100 3050 5950 3050
Wire Wire Line
	6100 3150 5950 3150
Wire Wire Line
	5950 3250 6100 3250
Wire Wire Line
	6100 3350 5950 3350
Wire Wire Line
	6100 3450 5950 3450
Wire Wire Line
	5950 3650 6350 3650
Wire Wire Line
	8550 3300 8000 3300
Wire Wire Line
	8000 2450 8550 2450
Wire Wire Line
	8550 2550 8000 2550
Wire Wire Line
	8000 4100 8550 4100
Wire Wire Line
	8000 3400 8550 3400
Wire Wire Line
	8550 4200 8000 4200
Wire Wire Line
	4050 2900 4050 2700
Wire Wire Line
	4900 4700 5200 4700
Connection ~ 5100 4700
Connection ~ 5000 4700
Wire Wire Line
	6350 4850 6900 4850
Text Label 5950 3750 0    60   ~ 0
aD5
Wire Wire Line
	5950 3750 6250 3750
Wire Wire Line
	6250 4950 6900 4950
Text Label 8050 4850 0    60   ~ 0
D6
Text Label 8050 4950 0    60   ~ 0
D5
Text HLabel 8550 4850 2    60   BiDi ~ 0
D6
Text HLabel 8550 4950 2    60   BiDi ~ 0
D5
Wire Wire Line
	8000 4850 8550 4850
Wire Wire Line
	8550 4950 8000 4950
NoConn ~ 4250 3750
NoConn ~ 4250 3850
NoConn ~ 4250 3950
NoConn ~ 4250 4050
NoConn ~ 4250 4150
NoConn ~ 4250 4250
NoConn ~ 5950 4050
NoConn ~ 5950 3950
NoConn ~ 5950 3550
$Comp
L R RSCK1
U 1 1 57FA162F
P 5950 1550
F 0 "RSCK1" V 6030 1550 50  0000 C CNN
F 1 "10k" V 5950 1550 50  0000 C CNN
F 2 "Resistors_SMD:R_0603_HandSoldering" V 5880 1550 50  0001 C CNN
F 3 "" H 5950 1550 50  0000 C CNN
	1    5950 1550
	0    1    1    0   
$EndComp
$Comp
L R RSS1
U 1 1 57FA176D
P 5950 1800
F 0 "RSS1" V 6030 1800 50  0000 C CNN
F 1 "10k" V 5950 1800 50  0000 C CNN
F 2 "Resistors_SMD:R_0603_HandSoldering" V 5880 1800 50  0001 C CNN
F 3 "" H 5950 1800 50  0000 C CNN
	1    5950 1800
	0    1    1    0   
$EndComp
$Comp
L GND #PWR068
U 1 1 57FA17AB
P 5800 1800
F 0 "#PWR068" H 5800 1550 50  0001 C CNN
F 1 "GND" H 5800 1650 50  0000 C CNN
F 2 "" H 5800 1800 50  0000 C CNN
F 3 "" H 5800 1800 50  0000 C CNN
	1    5800 1800
	0    1    -1   0   
$EndComp
Wire Wire Line
	6100 1550 6250 1550
Wire Wire Line
	6100 1800 6250 1800
Text Label 6100 1550 0    60   ~ 0
aSCK
Text Label 6100 1800 0    60   ~ 0
aD10
Text Notes 4100 1900 0    60   ~ 0
SS low chooses SPI slave\nconfig mode.
Text Notes 4100 1650 0    60   ~ 0
SCLK pull up recommended\nby ice40 handbook
Text Notes 4100 2150 0    60   ~ 0
RST high starts config process\nautomatically
$Comp
L R RRST1
U 1 1 57FA20DE
P 5950 2050
F 0 "RRST1" V 6030 2050 50  0000 C CNN
F 1 "10k" V 5950 2050 50  0000 C CNN
F 2 "Resistors_SMD:R_0603_HandSoldering" V 5880 2050 50  0001 C CNN
F 3 "" H 5950 2050 50  0000 C CNN
	1    5950 2050
	0    1    1    0   
$EndComp
Wire Wire Line
	6100 2050 6250 2050
Text Label 6100 2050 0    60   ~ 0
aD9
Wire Wire Line
	8000 5350 8000 5050
$Comp
L R RU4
U 1 1 57FA7FA9
P 8000 5500
F 0 "RU4" V 8080 5500 50  0000 C CNN
F 1 "10k" V 8000 5500 50  0000 C CNN
F 2 "Resistors_SMD:R_0603_HandSoldering" V 7930 5500 50  0001 C CNN
F 3 "" H 8000 5500 50  0000 C CNN
	1    8000 5500
	1    0    0    -1  
$EndComp
Wire Wire Line
	6250 3750 6250 4950
Wire Wire Line
	6350 3650 6350 4850
NoConn ~ 5950 3850
Text HLabel 8550 5200 2    60   Input ~ 0
DD
Wire Wire Line
	8550 5200 8000 5200
Connection ~ 8000 5200
Text Label 8150 5200 0    60   ~ 0
DD
$Comp
L +5V #PWR069
U 1 1 57FC7EF2
P 5800 1550
F 0 "#PWR069" H 5800 1400 50  0001 C CNN
F 1 "+5V" H 5800 1690 50  0000 C CNN
F 2 "" H 5800 1550 50  0000 C CNN
F 3 "" H 5800 1550 50  0000 C CNN
	1    5800 1550
	0    -1   -1   0   
$EndComp
$Comp
L +5V #PWR070
U 1 1 57FC7F18
P 5800 2050
F 0 "#PWR070" H 5800 1900 50  0001 C CNN
F 1 "+5V" H 5800 2190 50  0000 C CNN
F 2 "" H 5800 2050 50  0000 C CNN
F 3 "" H 5800 2050 50  0000 C CNN
	1    5800 2050
	0    -1   -1   0   
$EndComp
$Comp
L R RU3
U 1 1 57FAE023
P 8250 4300
F 0 "RU3" V 8330 4300 50  0000 C CNN
F 1 "10k" V 8250 4300 50  0000 C CNN
F 2 "Resistors_SMD:R_0603_HandSoldering" V 8180 4300 50  0001 C CNN
F 3 "" H 8250 4300 50  0000 C CNN
	1    8250 4300
	0    1    1    0   
$EndComp
Wire Wire Line
	8000 4300 8100 4300
Wire Wire Line
	8400 4300 8550 4300
$Comp
L +3.3V #PWR071
U 1 1 57FAE2AA
P 8550 4300
F 0 "#PWR071" H 8550 4150 50  0001 C CNN
F 1 "+3.3V" H 8550 4440 50  0000 C CNN
F 2 "" H 8550 4300 50  0000 C CNN
F 3 "" H 8550 4300 50  0000 C CNN
	1    8550 4300
	1    0    0    1   
$EndComp
$EndSCHEMATC
